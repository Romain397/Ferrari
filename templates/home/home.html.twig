{% extends 'base.html.twig' %}
{% import 'macros/ui.html.twig' as ui %}

{% block title %}Accueil
{% endblock %}

{% block main %}
	<h1 class="mb-4 text-center">{{ 'ferrari – histoire & héritage'|upper }}</h1>

	<p class="text-center mb-5">
		Ferrari est une marque emblématique du sport automobile, fondée par Enzo Ferrari.
				    Présente en endurance et en Formule 1, la Scuderia incarne la performance et la passion.
	</p>

	<h2 class="mb-4">Voitures emblématiques</h2>

	<div class="cards row g-4">
		{% for car in cars %}
			<div class="col-md-4">
				<div class="card {% if car.highlight %}highlight{% endif %} h-100 position-relative">

					{% if car.image %}
						<img src="{{ car.image }}" class="card-img-top rounded-4" style="height: 220px; object-fit: cover;" alt="{{ car.model }}">
					{% endif %}

					<div class="card-body d-flex flex-column">
						<h3>{{ car.title }}
							<small class="text-muted">({{ car.model }})</small>
						</h3>

						{% if car.content %}
							<p class="flex-grow-1">{{ car.content }}</p>
						{% endif %}

						<p class="text-muted mb-2">Année :
							{{ car.year }}</p>

						{% if car.video %}
							<div class="ratio ratio-16x9 mt-2">
								<iframe src="{{ car.video }}" title="Vidéo {{ car.model }}" allowfullscreen></iframe>
							</div>
						{% endif %}
					</div>

					{% if car.highlight %}
						<div class="badge bg-danger position-absolute top-0 start-50 translate-middle-x mt-2 px-3 py-2 fs-6 rounded-pill shadow">À la une ⭐</div>
					{% endif %}
				</div>
			</div>
		{% else %}
			<p class="text-center">Aucune voiture enregistrée pour le moment.</p>
		{% endfor %}
	</div>


	<p class="summary mt-5 text-center">
		Nombre de modèles présentés :
		<strong>{{ cars|length }}</strong>
	</p>
{% endblock %}
