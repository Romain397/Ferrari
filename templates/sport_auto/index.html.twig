{% extends 'base.html.twig' %}

{% block title %}Sport Auto
{% endblock %}


{% block main %}
	<h1 class="text-danger mb-4">ğŸ Sport Auto - Courses</h1>
	<div class="row">
		{% for race in races %}
			<div class="col-md-4 mb-4">
				<div class="card h-100 shadow-sm">
					{% if race.circuitImage %}
						<img
							src="{{ race.circuitImage|optimized_image_url(640) }}"
							class="card-img-top"
							alt="{{ race.title }}"
							width="640"
							height="360"
							sizes="(min-width: 1200px) 416px, (min-width: 768px) 320px, 96vw"
							loading="{{ loop.first ? 'eager' : 'lazy' }}"
							fetchpriority="{{ loop.first ? 'high' : 'auto' }}"
							decoding="async"
						>
					{% else %}
						<div class="card-img-placeholder">
							<span class="text-white">Pas d'image</span>
						</div>
					{% endif %}
					<div class="card-body d-flex flex-column">
						<h2 class="h5 card-title text-danger">{{ race.title }}</h2>
						{% if race.raceDate %}
							<p class="card-text text-warning fw-semibold">
								<strong>ğŸ“… Date:</strong> {{ race.raceDate|date('d/m/Y H:i') }}
							</p>
						{% endif %}
						{% if race.content %}
							<p class="card-text flex-grow-1">{{ race.content }}</p>
						{% endif %}

					</div>
				</div>
			</div>
		{% else %}
			<div class="alert alert-info">
				Aucune course pour le moment.
			</div>
		{% endfor %}
	</div>
{% endblock %}

