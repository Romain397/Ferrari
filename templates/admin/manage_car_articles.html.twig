{% extends 'base.html.twig' %}
{% block title %}Gérer Articles
{% endblock %}

{% block main %}
	<h1 class="mb-4 text-center">Gérer les Articles de Voitures</h1>

	<div class="mb-4">
		<h3>Ajouter un nouvel article</h3>
		{{ form_start(form) }}
		{{ form_row(form.model) }}
		{{ form_row(form.title) }}
		{{ form_row(form.content) }}
		{{ form_row(form.year) }}
		{{ form_row(form.highlight) }}
		{{ form_row(form.image) }}
		{{ form_row(form.video) }}
		<button type="submit" class="btn btn-danger mt-2">Créer l’article</button>
		{{ form_end(form) }}
	</div>

	<h3>Articles existants</h3>
	<table class="table table-striped">
		<thead>
			<tr>
				<th>ID</th>
				<th>Titre</th>
				<th>Modèle</th>
				<th>Année</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tbody>
			{% for article in articles %}
				<tr>
					<td>{{ article.id }}</td>
					<td>{{ article.title }}</td>
					<td>{{ article.model }}</td>
					<td>{{ article.year }}</td>
					<td>
						<a href="{{ path('car_article_new', {'id': article.id}) }}" class="btn btn-sm btn-warning">Modifier</a>
						<a href="{{ path('admin_delete_car_article', {'id': article.id}) }}" class="btn btn-sm btn-danger">Supprimer</a>
					</td>
				</tr>
			{% else %}
				<tr>
					<td colspan="5" class="text-center">Aucun article pour le moment.</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
{% endblock %}
